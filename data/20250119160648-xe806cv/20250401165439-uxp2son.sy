{"ID":"20250401165439-uxp2son","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250401165439-uxp2son","title":"Effective Modern C++","type":"doc","updated":"20250410191713"},"Children":[{"ID":"20250401170101-4504c0n","Type":"NodeParagraph","Properties":{"id":"20250401170101-4504c0n","updated":"20250401170101"},"Children":[{"Type":"NodeText","Data":"https://cntransgroup.github.io/EffectiveModernCppChinese/Introduction.html"}]},{"ID":"20250401165439-j495i65","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250401165439-j495i65","updated":"20250410191713"},"Children":[{"Type":"NodeText","Data":"类型推导"}]},{"ID":"20250401170104-hpf45df","Type":"NodeParagraph","Properties":{"id":"20250401170104-hpf45df","updated":"20250408141550"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"template"},{"Type":"NodeText","Data":"​\u0026"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"auto"},{"Type":"NodeText","Data":"​ \u0026 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"decltype"},{"Type":"NodeText","Data":"​"}]},{"ID":"20250401170210-oq9t83h","Type":"NodeList","ListData":{},"Properties":{"id":"20250401170210-oq9t83h","updated":"20250410191713"},"Children":[{"ID":"20250401170456-gvkqczq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250401170456-gvkqczq","updated":"20250410191713"},"Children":[{"ID":"20250401170456-stluqo9","Type":"NodeParagraph","Properties":{"id":"20250401170456-stluqo9","updated":"20250408161609"},"Children":[{"Type":"NodeText","Data":"模板类型推导"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"template\u0026lt;typename T\u0026gt; void f(ParamType param); f(expr);"},{"Type":"NodeText","Data":"​"}]},{"ID":"20250408142252-nq2oczj","Type":"NodeList","ListData":{},"Properties":{"id":"20250408142252-nq2oczj","updated":"20250408142252"},"Children":[{"ID":"20250408142252-quk8j8b","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250408142252-quk8j8b","updated":"20250408142252"},"Children":[{"ID":"20250408142252-km28v15","Type":"NodeParagraph","Properties":{"id":"20250408142252-km28v15","updated":"20250408161153"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ParamType"},{"Type":"NodeText","Data":"​是一个指针或引用，但不是通用引用"}]},{"ID":"20250410153141-mh88mtv","Type":"NodeParagraph","Properties":{"id":"20250410153141-mh88mtv","updated":"20250410153305"},"Children":[{"Type":"NodeText","Data":" 对象的常量性"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const ness"},{"Type":"NodeText","Data":"​会被保留为"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"T"},{"Type":"NodeText","Data":"​的一部分"}]},{"ID":"20250408161747-qfzep4b","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250408161747-qfzep4b","updated":"20250408161747"},"Children":[{"ID":"20250408161747-qumfe3i","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250408161747-qumfe3i","updated":"20250408161747"},"Children":[{"ID":"20250408161747-46rrbu7","Type":"NodeParagraph","Properties":{"id":"20250408161747-46rrbu7","updated":"20250408161747"},"Children":[{"Type":"NodeText","Data":"如果"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"expr"},{"Type":"NodeText","Data":"​的类型是一个引用，忽略引用部分"}]}]},{"ID":"20250408161747-9457im8","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250408161747-9457im8","updated":"20250408161747"},"Children":[{"ID":"20250408161747-c8753ki","Type":"NodeParagraph","Properties":{"id":"20250408161747-c8753ki","updated":"20250408161747"},"Children":[{"Type":"NodeText","Data":"然后"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"expr"},{"Type":"NodeText","Data":"​的类型与"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ParamType"},{"Type":"NodeText","Data":"​进行模式匹配来决定"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"T"},{"Type":"NodeText","Data":"​"}]}]}]}]}]},{"ID":"20250408161755-ifpt9fr","Type":"NodeList","ListData":{},"Properties":{"id":"20250408161755-ifpt9fr","updated":"20250410191713"},"Children":[{"ID":"20250408161804-7j24hh0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250408161804-7j24hh0","updated":"20250408161804"},"Children":[{"ID":"20250408161804-4dh6amb","Type":"NodeParagraph","Properties":{"id":"20250408161804-4dh6amb","updated":"20250410154016"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ParamType"},{"Type":"NodeText","Data":"​是一个通用引用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"template\u0026lt;typename T\u0026gt; void f(T\u0026amp;\u0026amp; param);"},{"Type":"NodeText","Data":"​"}]},{"ID":"20250410153917-o4h5g85","Type":"NodeList","ListData":{},"Properties":{"id":"20250410153917-o4h5g85","updated":"20250410153917"},"Children":[{"ID":"20250410153916-x3a67nf","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250410153916-x3a67nf","updated":"20250410153916"},"Children":[{"ID":"20250410153916-pc7znl9","Type":"NodeParagraph","Properties":{"id":"20250410153916-pc7znl9","updated":"20250410154107"},"Children":[{"Type":"NodeText","Data":"如果"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"expr"},{"Type":"NodeText","Data":"​是左值，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"T"},{"Type":"NodeText","Data":"​和"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ParamType"},{"Type":"NodeText","Data":"​都会被推导为左值引用"}]},{"ID":"20250410154108-s7g4d29","Type":"NodeList","ListData":{},"Properties":{"id":"20250410154108-s7g4d29","updated":"20250410154108"},"Children":[{"ID":"20250410154108-chviz3a","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250410154108-chviz3a","updated":"20250410154108"},"Children":[{"ID":"20250410154108-94rhff2","Type":"NodeParagraph","Properties":{"id":"20250410154108-94rhff2","updated":"20250410154115"},"Children":[{"Type":"NodeText","Data":"这非常不寻常，这是模板类型推导中唯一一种"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"T"},{"Type":"NodeText","Data":"​被推导为引用的情况"}]}]},{"ID":"20250410154118-zk0si4x","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250410154118-zk0si4x","updated":"20250410154118"},"Children":[{"ID":"20250410154118-nwfmwvd","Type":"NodeParagraph","Properties":{"id":"20250410154118-nwfmwvd","updated":"20250410154128"},"Children":[{"Type":"NodeText","Data":"虽然"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ParamType"},{"Type":"NodeText","Data":"​被声明为右值引用类型，但是最后推导的结果是左值引用"}]}]}]}]},{"ID":"20250410154129-fd19d7w","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250410154129-fd19d7w","updated":"20250410154129"},"Children":[{"ID":"20250410154129-y865vfo","Type":"NodeParagraph","Properties":{"id":"20250410154129-y865vfo","updated":"20250410154153"},"Children":[{"Type":"NodeText","Data":"如果"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"expr"},{"Type":"NodeText","Data":"​是右值，就使用正常的推导规则"}]}]}]}]},{"ID":"20250410153857-wf7hc1t","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250410153857-wf7hc1t","updated":"20250410153857"},"Children":[{"ID":"20250410153857-xodf61h","Type":"NodeParagraph","Properties":{"id":"20250410153857-xodf61h","updated":"20250410162122"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ParamType"},{"Type":"NodeText","Data":"​既不是指针也不是引用，pass-by-value值拷贝，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"template\u0026lt;typename T\u0026gt; void f(T param);"},{"Type":"NodeText","Data":"​"}]},{"ID":"20250410162040-c7a2vpu","Type":"NodeList","ListData":{},"Properties":{"id":"20250410162040-c7a2vpu","updated":"20250410162040"},"Children":[{"ID":"20250410162040-gehjss9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250410162040-gehjss9","updated":"20250410162040"},"Children":[{"ID":"20250410162040-0vq6oox","Type":"NodeParagraph","Properties":{"id":"20250410162040-0vq6oox","updated":"20250410162057"},"Children":[{"Type":"NodeText","Data":"如果"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"expr"},{"Type":"NodeText","Data":"​的类型是一个引用，忽略这个引用部分"}]}]},{"ID":"20250410162100-pwv8y30","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250410162100-pwv8y30","updated":"20250410162100"},"Children":[{"ID":"20250410162100-10ul2ul","Type":"NodeParagraph","Properties":{"id":"20250410162100-10ul2ul","updated":"20250410162249"},"Children":[{"Type":"NodeText","Data":"忽略"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"expr"},{"Type":"NodeText","Data":"​的引用性（reference-ness）之后，忽略expr的const/volatile，如果是指针，指向数据的"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const ness"},{"Type":"NodeText","Data":"​会被保留"}]}]}]}]},{"ID":"20250410163020-2mnvbdw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250410163020-2mnvbdw","updated":"20250410163020"},"Children":[{"ID":"20250410163020-ta24i7d","Type":"NodeParagraph","Properties":{"id":"20250410163020-ta24i7d","updated":"20250410163503"},"Children":[{"Type":"NodeText","Data":"数组/函数实参"}]},{"ID":"20250410163506-ijdtl4o","Type":"NodeList","ListData":{},"Properties":{"id":"20250410163506-ijdtl4o","updated":"20250410163506"},"Children":[{"ID":"20250410163506-m2sx6ph","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250410163506-m2sx6ph","updated":"20250410163506"},"Children":[{"ID":"20250410163506-ll5wdce","Type":"NodeParagraph","Properties":{"id":"20250410163506-ll5wdce","updated":"20250410163529"},"Children":[{"Type":"NodeText","Data":"数组、函数会退化为指针"}]}]},{"ID":"20250410163559-acmczsw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250410163559-acmczsw","updated":"20250410163559"},"Children":[{"ID":"20250410163559-2ehcp7p","Type":"NodeParagraph","Properties":{"id":"20250410163559-2ehcp7p","updated":"20250410163721"},"Children":[{"Type":"NodeText","Data":"传引用的时候"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"template\u0026lt;typename T\u0026gt; void f(T\u0026amp; param);"},{"Type":"NodeText","Data":"​，形参会推导为数组"}]}]}]}]},{"ID":"20250410163746-pw99rtk","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250410163746-pw99rtk","updated":"20250410163746"},"Children":[{"ID":"20250410163746-aqg6r3j","Type":"NodeParagraph","Properties":{"id":"20250410163746-aqg6r3j","updated":"20250410191325"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"auto"},{"Type":"NodeText","Data":"​与模板推理的唯一区别，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"auto"},{"Type":"NodeText","Data":"​类型推导假定花括号初始化代表"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"std::initializer_list"},{"Type":"NodeText","Data":"​，而模板不能推导花括号，C++14中，auto做函数返回值类型、"},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"lambda"},{"Type":"NodeText","Data":"函数形参时，也不能推导花括号，这里用的是模板类型推导方案"}]}]},{"ID":"20250410191636-etwaq9t","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250410191636-etwaq9t","updated":"20250410191713"},"Children":[{"ID":"20250410191636-71f8o2z","Type":"NodeParagraph","Properties":{"id":"20250410191636-71f8o2z","updated":"20250410191713"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"decltype"},{"Type":"NodeText","Data":"​"}]}]}]}]}]},{"ID":"20250401165550-p0t14bo","Type":"NodeParagraph","Properties":{"id":"20250401165550-p0t14bo","updated":"20250401165550"}},{"ID":"20250401165537-jh37xhe","Type":"NodeParagraph","Properties":{"id":"20250401165537-jh37xhe","updated":"20250401165537"}}]}